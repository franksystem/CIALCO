package ec.gob.magap.web.controller.adminusuario;

import java.sql.Timestamp;
import java.util.Date;

import javax.annotation.ManagedBean;
import javax.faces.bean.ManagedProperty;
import javax.faces.bean.ViewScoped;

import ec.gob.magap.common.util.Parameter;
import ec.gob.magap.dto.MenuDTO;
import ec.gob.magap.dto.PantallaDTO;
import ec.gob.magap.dto.PerfilDTO;
import ec.gob.magap.web.controller.LoginController;

@ManagedBean(value = "perfilController")
@ViewScoped
public class PerfilController {
	@ManagedProperty(value = "loginController")
	private LoginController loginController;
	
	private PerfilDTO perfilDTO;
	private MenuDTO menuDTO;
	
	public void newMenu() {
		// Creo el objeto e inicializo los datos de auditoria
		perfilDTO = new PerfilDTO();
		menuDTO = new MenuDTO();
		
		perfilDTO.setMenuDTO(menuDTO);
		perfilDTO.setEstado(Parameter.ESTADO_ACTIVO);
		perfilDTO.setIdUsuarioCreacion(loginController.getSessionUser()
				.getUsuarioDTO().getIdUsuario());
		perfilDTO.setFechaCreacion(new Timestamp(new Date().getTime()));
	}

	public LoginController getLoginController() {
		return loginController;
	}

	public void setLoginController(LoginController loginController) {
		this.loginController = loginController;
	}

	public PerfilDTO getPerfilDTO() {
		return perfilDTO;
	}

	public void setPerfilDTO(PerfilDTO perfilDTO) {
		this.perfilDTO = perfilDTO;
	}

	public MenuDTO getMenuDTO() {
		return menuDTO;
	}

	public void setMenuDTO(MenuDTO menuDTO) {
		this.menuDTO = menuDTO;
	}
}
